<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Register student</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet library="css" name="style.css"/>
    </h:head>
    <h:body>
        <h2>View parcels</h2>
        <h:form> 
            <h:panelGrid style="font-size: 25px" columns="2">                
                <div>Driver name: <h:outputText value="#{adminUI.drivName}" /></div>            
            </h:panelGrid>
            
             <h:dataTable styleClass="order-table" headerClass="order-table-header" 
                          rowClasses="order-table-odd-row, order-table-even-row"
                          border="2" 
                          value="#{adminUI.parcelCollection}"
                          var="parcel">
                <h:column>
                    <f:facet name="header">Parcel Id</f:facet>
                        #{parcel.parcelId}
                </h:column>

                <h:column>
                    <f:facet name="header">Collection booking date</f:facet>
                    <h:outputText value="#{parcel.awaiting_collection_date}" >
                        <f:convertDateTime pattern="dd.MM.yyyy HH:mm:ss" />
                    </h:outputText>                    
                </h:column>
                 
                 <h:column>
                    <f:facet name="header">Collection date</f:facet>                        
                    <h:outputText value="#{parcel.collection_date}" >
                        <f:convertDateTime pattern="dd.MM.yyyy HH:mm:ss" />
                    </h:outputText>
                </h:column>

                <h:column>
                    <f:facet name="header">Delivery date</f:facet>                        
                    <h:outputText value="#{parcel.delivery_date}" >
                        <f:convertDateTime pattern="dd.MM.yyyy HH:mm:ss" />
                    </h:outputText>
                </h:column>
                 
                <h:column>
                    <f:facet name="header">Return collection booking date</f:facet>                        
                    <h:outputText value="#{parcel.awaiting_return_collection_date}" >
                        <f:convertDateTime pattern="dd.MM.yyyy HH:mm:ss" />
                    </h:outputText>
                </h:column>
                 
                 <h:column>
                    <f:facet name="header">Return collection date</f:facet>                        
                    <h:outputText value="#{parcel.collection_return_date}" >
                        <f:convertDateTime pattern="dd.MM.yyyy HH:mm:ss" />
                    </h:outputText>
                </h:column>
                 
                <h:column>
                    <f:facet name="header">Return delivery date</f:facet>                        
                    <h:outputText value="#{parcel.return_delivery_date}" >
                        <f:convertDateTime pattern="dd.MM.yyyy HH:mm:ss" />
                    </h:outputText>
                </h:column>
                 
                <h:column>
                    <f:facet name="header">Parcel status</f:facet>
                        #{parcel.statusDTO.statusName}
                </h:column>
                 
                <h:column>
                    <f:facet name="header">Supplier id</f:facet>
                        #{parcel.supplierDTO.supplierId}
                </h:column>
                 
                <h:column>
                    <f:facet name="header">Supplier name</f:facet>
                        #{parcel.supplierDTO.suppName}
                </h:column>

                <h:column>
                    <f:facet name="header">Supplier address</f:facet>
                        #{parcel.supplierDTO.suppAddress}
                </h:column>
                 
                 <h:column>
                    <f:facet name="header">Customer id</f:facet>
                        #{parcel.customerDTO.customerId}
                </h:column>
                 
                 <h:column>
                    <f:facet name="header">Customer name</f:facet>
                        #{parcel.customerDTO.custName}
                </h:column>

                <h:column>
                    <f:facet name="header">Customer address</f:facet>
                        #{parcel.customerDTO.custAddress}
                </h:column>                 
                 
                 <h:column>
                     <h:commandButton type="submit" value="Update parcel status" 
                                      action="#{adminUI.getAllDriverStatuses( parcel.parcelId, 
                                                                              adminUI.suppName, 
                                                                              adminUI.drivName, 
                                                                              adminUI.custName)}" />
                 </h:column>
             </h:dataTable> 
            <p><h:commandButton type="submit" value="back" action="driver.xhtml" immediate="true" /></p>
        </h:form>
                      
              
        
        
    </h:body>
</html>
